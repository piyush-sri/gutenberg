"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[9532],{"./packages/components/src/custom-select-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CustomSelectControl});var downshift__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),clsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/icons/build-module/library/check.js"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_visually_hidden__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/src/visually-hidden/component.tsx"),_select_control_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/components/src/select-control/styles/select-control-styles.ts"),_select_control_chevron_down__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/components/src/select-control/chevron-down.tsx"),_base_control_styles_base_control_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/src/base-control/styles/base-control-styles.ts"),_utils_use_deprecated_props__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/utils/use-deprecated-props.ts"),_input_control_input_base__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/src/input-control/input-base.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const itemToString=item=>item?.name,stateReducer=({selectedItem},{type,changes,props:{items}})=>{switch(type){case downshift__WEBPACK_IMPORTED_MODULE_2__.L7.stateChangeTypes.ToggleButtonKeyDownArrowDown:return{selectedItem:items[selectedItem?Math.min(items.indexOf(selectedItem)+1,items.length-1):0]};case downshift__WEBPACK_IMPORTED_MODULE_2__.L7.stateChangeTypes.ToggleButtonKeyDownArrowUp:return{selectedItem:items[selectedItem?Math.max(items.indexOf(selectedItem)-1,0):items.length-1]};default:return changes}};function CustomSelectControl(props){const{__next40pxDefaultSize=!1,className,hideLabelFromVision,label,describedBy,options:items,onChange:onSelectedItemChange,size="default",value:_selectedItem,onMouseOver,onMouseOut,onFocus,onBlur,__experimentalShowSelectedHint=!1}=(0,_utils_use_deprecated_props__WEBPACK_IMPORTED_MODULE_3__.s)(props),{getLabelProps,getToggleButtonProps,getMenuProps,getItemProps,isOpen,highlightedIndex,selectedItem}=(0,downshift__WEBPACK_IMPORTED_MODULE_2__.L7)({initialSelectedItem:items[0],items,itemToString,onSelectedItemChange,...null!=_selectedItem?{selectedItem:_selectedItem}:void 0,stateReducer});let menuProps=getMenuProps({className:"components-custom-select-control__menu","aria-hidden":!isOpen});const onKeyDownHandler=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useCallback)((e=>{e.stopPropagation(),menuProps?.onKeyDown?.(e)}),[menuProps]);if(menuProps["aria-activedescendant"]?.startsWith("downshift-null")){const{"aria-activedescendant":ariaActivedescendant,...restMenuProps}=menuProps;menuProps=restMenuProps}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_5__.Z)("components-custom-select-control",className),children:[hideLabelFromVision?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_visually_hidden__WEBPACK_IMPORTED_MODULE_6__.Z,{as:"label",...getLabelProps(),children:label}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_base_control_styles_base_control_styles__WEBPACK_IMPORTED_MODULE_7__.ar,{...getLabelProps({className:"components-custom-select-control__label"}),children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_input_control_input_base__WEBPACK_IMPORTED_MODULE_8__.Z,{__next40pxDefaultSize,size,suffix:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_select_control_chevron_down__WEBPACK_IMPORTED_MODULE_9__.Z,{}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_select_control_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_10__.Ph,{onMouseOver,onMouseOut,as:"button",onFocus,onBlur,selectSize:size,__next40pxDefaultSize,...getToggleButtonProps({"aria-label":label,"aria-labelledby":void 0,className:"components-custom-select-control__button",describedBy:function getDescribedBy(){return describedBy||(selectedItem?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Currently selected: %s"),selectedItem.name):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("No selection"))}()}),children:[itemToString(selectedItem),__experimentalShowSelectedHint&&selectedItem.__experimentalHint&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"components-custom-select-control__hint",children:selectedItem.__experimentalHint})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"components-custom-select-control__menu-wrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("ul",{...menuProps,onKeyDown:onKeyDownHandler,children:isOpen&&items.map(((item,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("li",{...getItemProps({item,index,className:(0,clsx__WEBPACK_IMPORTED_MODULE_5__.Z)(item.className,"components-custom-select-control__item",{"is-highlighted":index===highlightedIndex,"has-hint":!!item.__experimentalHint,"is-next-40px-default-size":__next40pxDefaultSize}),style:item.style}),children:[item.name,item.__experimentalHint&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"components-custom-select-control__item-hint",children:item.__experimentalHint}),item===selectedItem&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_11__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_12__.Z,className:"components-custom-select-control__item-icon"})]},item.key)))})})]})]})}function StableCustomSelectControl(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CustomSelectControl,{...props,__experimentalShowSelectedHint:!1})}CustomSelectControl.displayName="CustomSelectControl",StableCustomSelectControl.displayName="StableCustomSelectControl",CustomSelectControl.__docgenInfo={description:"",methods:[],displayName:"CustomSelectControl"},StableCustomSelectControl.__docgenInfo={description:"",methods:[],displayName:"StableCustomSelectControl"}},"./packages/components/src/custom-select-control-v2/stories/legacy.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithHints:()=>WithHints,WithLongLabels:()=>WithLongLabels,default:()=>legacy_story});var react=__webpack_require__("./node_modules/react/index.js"),FMVHAVXA=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/FMVHAVXA.js"),custom_select=__webpack_require__("./packages/components/src/custom-select-control-v2/custom-select.tsx"),item=__webpack_require__("./packages/components/src/custom-select-control-v2/item.tsx"),styles=__webpack_require__("./packages/components/src/custom-select-control-v2/styles.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function CustomSelectControl(props){const{__experimentalShowSelectedHint=!1,__next40pxDefaultSize=!1,describedBy,options,onChange,size="default",value,...restProps}=props,store=FMVHAVXA.I({async setValue(nextValue){const nextOption=options.find((item=>item.name===nextValue));if(!onChange||!nextOption)return;await Promise.resolve();const state=store.getState(),changeObject={highlightedIndex:state.renderedItems.findIndex((item=>item.value===nextValue)),inputValue:"",isOpen:state.open,selectedItem:nextOption,type:""};onChange(changeObject)},value:value?.name,defaultValue:options[0]?.name}),children=options.map((({name,key,__experimentalHint,style,className})=>{const withHint=(0,jsx_runtime.jsxs)(styles.F9,{children:[(0,jsx_runtime.jsx)("span",{children:name}),(0,jsx_runtime.jsx)(styles.cz,{className:"components-custom-select-control__item-hint",children:__experimentalHint})]});return(0,jsx_runtime.jsx)(item.C,{value:name,children:__experimentalHint?withHint:name,style,className},key)})),translatedSize=__next40pxDefaultSize&&"default"===size||"__unstable-large"===size?"default":__next40pxDefaultSize||"default"!==size?size:"compact";return(0,jsx_runtime.jsx)(custom_select.Z,{"aria-describedby":describedBy,renderSelectedValue:__experimentalShowSelectedHint?()=>{const{value:currentValue}=store.getState(),currentHint=options?.find((({name})=>currentValue===name));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[currentValue,(0,jsx_runtime.jsx)(styles.FY,{className:"components-custom-select-control__hint",children:currentHint?.__experimentalHint})]})}:void 0,size:translatedSize,store,...restProps,children})}CustomSelectControl.displayName="CustomSelectControl";const legacy_component=CustomSelectControl;try{CustomSelectControl.displayName="CustomSelectControl",CustomSelectControl.__docgenInfo={description:"",displayName:"CustomSelectControl",props:{className:{defaultValue:null,description:"Optional classname for the component.",name:"className",required:!1,type:{name:"string"}},hideLabelFromVision:{defaultValue:null,description:"Used to visually hide the label. It will always be visible to screen readers.",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}},describedBy:{defaultValue:null,description:'Pass in a description that will be shown to screen readers associated with the\nselect trigger button. If no value is passed, the text "Currently selected:\nselectedItem.name" will be used fully translated.',name:"describedBy",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label for the control.",name:"label",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"Function called with the control's internal state changes. The `selectedItem`\nproperty contains the next selected item.",name:"onChange",required:!1,type:{name:"(newValue: LegacyOnChangeObject) => void"}},onBlur:{defaultValue:null,description:"A handler for `onBlur` events.\n@ignore",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onFocus:{defaultValue:null,description:"A handler for `onFocus` events.\n@ignore",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLButtonElement>"}},onMouseOut:{defaultValue:null,description:"A handler for `onMouseOver` events.\n@ignore",name:"onMouseOut",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onMouseOver:{defaultValue:null,description:"A handler for `onMouseOut` events.\n@ignore",name:"onMouseOver",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},options:{defaultValue:null,description:"The options that can be chosen from.",name:"options",required:!0,type:{name:"LegacyOption[]"}},size:{defaultValue:{value:"'default'"},description:"The size of the control.",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"default"'},{value:'"__unstable-large"'}]}},value:{defaultValue:null,description:"Can be used to externally control the value of the control.",name:"value",required:!1,type:{name:"LegacyOption"}},__experimentalShowSelectedHint:{defaultValue:{value:"false"},description:"Legacy way to add additional text to the right of each option.",name:"__experimentalShowSelectedHint",required:!1,type:{name:"boolean"}},__nextUnconstrainedWidth:{defaultValue:null,description:"Opt-in prop for an unconstrained width style which became the default in\nWordPress 6.5. The prop is no longer needed and can be safely removed.\n@deprecated\n@ignore",name:"__nextUnconstrainedWidth",required:!1,type:{name:"boolean"}},__next40pxDefaultSize:{defaultValue:{value:"false"},description:"Start opting into the larger default height that will become the default size in a future version.",name:"__next40pxDefaultSize",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/custom-select-control-v2/legacy-component/index.tsx#CustomSelectControl"]={docgenInfo:CustomSelectControl.__docgenInfo,name:"CustomSelectControl",path:"packages/components/src/custom-select-control-v2/legacy-component/index.tsx#CustomSelectControl"})}catch(__react_docgen_typescript_loader_error){}var index_story=__webpack_require__("./packages/components/src/custom-select-control/stories/index.story.tsx");const legacy_story={title:"Components/CustomSelectControl v2/Legacy",component:legacy_component,argTypes:{onChange:{control:{type:null}},value:{control:{type:null}}},tags:["status-wip"],parameters:{sourceLink:"packages/components/src/custom-select-control-v2",badges:["wip"],actions:{argTypesRegex:"^on.*"},controls:{expanded:!0},docs:{source:{excludeDecorators:!0}}},decorators:[Story=>(0,jsx_runtime.jsx)("div",{style:{minHeight:"150px"},children:(0,jsx_runtime.jsx)(Story,{})})]},Template=props=>{const[value,setValue]=(0,react.useState)(props.options[0]);return(0,jsx_runtime.jsx)(legacy_component,{...props,onChange:changeObject=>{setValue(changeObject.selectedItem),props.onChange?.(changeObject)},value})};Template.displayName="Template";const Default=Template.bind({});Default.args=index_story.Default.args;const WithLongLabels=Template.bind({});WithLongLabels.args=index_story.WithLongLabels.args;const WithHints=Template.bind({});WithHints.args=index_story.WithHints.args,Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = changeObject => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...Default.parameters?.docs?.source}}},WithLongLabels.parameters={...WithLongLabels.parameters,docs:{...WithLongLabels.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = changeObject => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...WithLongLabels.parameters?.docs?.source}}},WithHints.parameters={...WithHints.parameters,docs:{...WithHints.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = changeObject => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...WithHints.parameters?.docs?.source}}}},"./packages/components/src/custom-select-control/stories/index.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithHints:()=>WithHints,WithLongLabels:()=>WithLongLabels,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/src/custom-select-control/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/CustomSelectControl",component:___WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{__next40pxDefaultSize:{control:{type:"boolean"}},__experimentalShowSelectedHint:{control:{type:"boolean"}},size:{options:["small","default","__unstable-large"],control:{type:"radio"}},onChange:{control:{type:null}},value:{control:{type:null}}},parameters:{sourceLink:"packages/components/src/custom-select-control",badges:[],actions:{argTypesRegex:"^on.*"}}},Template=props=>{const[value,setValue]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(props.options[0]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.Z,{...props,onChange:changeObject=>{setValue(changeObject.selectedItem),props.onChange?.(changeObject)},value})};Template.displayName="Template";const Default=Template.bind({});Default.args={label:"Label",options:[{key:"small",name:"Small",style:{fontSize:"50%"}},{key:"normal",name:"Normal",style:{fontSize:"100%"},className:"can-apply-custom-class-to-option"},{key:"large",name:"Large",style:{fontSize:"200%"}},{key:"huge",name:"Huge",style:{fontSize:"300%"}}]};const WithLongLabels=Template.bind({});WithLongLabels.args={...Default.args,options:[{key:"reallylonglabel1",name:"Really long labels are good for stress testing"},{key:"reallylonglabel2",name:"But they can take a long time to type."},{key:"reallylonglabel3",name:"That really is ok though because you should stress test your UIs."}]};const WithHints=Template.bind({});WithHints.args={...Default.args,options:[{key:"thumbnail",name:"Thumbnail",__experimentalHint:"150x150"},{key:"medium",name:"Medium",__experimentalHint:"250x250"},{key:"large",name:"Large",__experimentalHint:"1024x1024"},{key:"full",name:"Full Size",__experimentalHint:"1600x1600"}]},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = (changeObject: {\n    selectedItem: any;\n  }) => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...Default.parameters?.docs?.source}}},WithLongLabels.parameters={...WithLongLabels.parameters,docs:{...WithLongLabels.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = (changeObject: {\n    selectedItem: any;\n  }) => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...WithLongLabels.parameters?.docs?.source}}},WithHints.parameters={...WithHints.parameters,docs:{...WithHints.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState(props.options[0]);\n  const onChange: React.ComponentProps<typeof CustomSelectControl>['onChange'] = (changeObject: {\n    selectedItem: any;\n  }) => {\n    setValue(changeObject.selectedItem);\n    props.onChange?.(changeObject);\n  };\n  return <CustomSelectControl {...props} onChange={onChange} value={value} />;\n}",...WithHints.parameters?.docs?.source}}}}}]);